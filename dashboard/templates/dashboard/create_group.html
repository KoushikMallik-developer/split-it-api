{% extends 'base.html' %}
{% load static %}
{% block content %}
<script>
function addInputField() {
    var parent = document.getElementById("group_inputs");
    // Create a new input element
    var div = document.createElement("div");
    div.className = "form-group my-2"
    var input = document.createElement("input");

    // Set input type to text (you can change it to other types as needed)
    input.type = "text";
    input.className = "form-control";
    input.id = "member"+(parent.childElementCount).toString();
    input.name = "member"+(parent.childElementCount).toString();
    input.placeholder = "Enter Member's email";

    // Add the input field to the container
    div.appendChild(input);
    parent.appendChild(div);
}
</script>
<div class="container my-2">
    <div class="">
        <div class="row justify-content-center">
            <div class="text-center mb-4">
                <h2 class="text-center">Dashboard</h2>
            </div>
            {% if errorMessage %}
            <div class="alert alert-danger" role="alert">
                {{ errorMessage }}
            </div>
            {% endif %}
            {% if successMessage %}
            <div class="alert alert-success" role="alert">
                {{ successMessage }}
            </div>
            {% endif %}

            <div class="row justify-content-center text-center">
                <div class="col-md-3">
                    <img src="{% static '/images/user/user_default_image.png' %}" alt="user" width="80" height="60"
                         class="d-inline-block align-text-top">
                    <h6>Koushik Mallik</h6>
                    <div class="list-group">
                        <button type="button" class="list-group-item list-group-item-action border border-0 bg-light">Your Groups</button>
                        <button type="button" class="list-group-item list-group-item-action border border-0 bg-light">All Expenses</button>
                        <button type="button" class="list-group-item list-group-item-action border border-0 bg-light">My Expenses</button>
                        <button type="button" class="list-group-item list-group-item-action border border-0 bg-light">Previous Month Records
                        </button>
                        <button type="button" class="list-group-item list-group-item-action border border-0 bg-light">Update Details</button>
                        <button type="button" class="list-group-item list-group-item-action border border-0 bg-light">Update Password</button>
                    </div>
                </div>
                <div class="col-md-6">
                    <h6>Create Groups</h6>
                <form method="post" id="group_form">
                    {% csrf_token %}
                    <div id="group_inputs">
                    <div class="form-group my-2">
                        <input type="text" class="form-control" id="group_name" name="group_name" placeholder="Group Name" required>
                    </div>

                    <div class="form-group my-2">
                        <input type="text" class="form-control" id="member1" name="member1" placeholder="Enter member's email"
                               required>
                        </div>
                    </div>
                    <button onclick="addInputField()" type="button" class="btn btn-outline-success my-3 mb-4">Add More Members</button>
                    <div class="text-center">
                        <button type="submit" class="btn btn-outline-success my-3 mb-4">Add Group</button>
                    </div>
                </form>
                </div>
                <div class="col-md-3">
                    First Column
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}
